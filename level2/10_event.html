<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" 
	content="width=device-width, initial-scale=1.0">
	<title>Document</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<link rel="stylesheet" href="style.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
	<nav class="navbar navbar-expand-lg bg-light sticky-top">
		<div class="container-fluid">
			<a class="navbar-brand" href="#">Navbar</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
				<div class="navbar-nav">
					<a class="nav-link active" aria-current="page" href="#">Home</a>
					<a class="nav-link" href="#">Features</a>
					<a class="nav-link" href="#">Pricing</a>
					<a class="nav-link disabled">Disabled</a>
				</div>
			</div>
		</div>
		<div class="redbox-wrap">
			<div class="redbox"></div>
		</div>
	</nav>
	
	
	<div style="height:300px;background:powderblue">
	<div class="lorem" style="width:200px;height: 200px;overflow-y: scroll;">
		Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit, molestiae ratione ab asperiores possimus animi nisi ullam nam ipsa porro, tenetur, eum enim aperiam illo inventore numquam. Error, dolorem atque?
		Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit, molestiae ratione ab asperiores possimus animi nisi ullam nam ipsa porro, tenetur, eum enim aperiam illo inventore numquam. Error, dolorem atque?
		Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit, molestiae ratione ab asperiores possimus animi nisi ullam nam ipsa porro, tenetur, eum enim aperiam illo inventore numquam. Error, dolorem atque?
		
		Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit, molestiae ratione ab asperiores possimus animi nisi ullam nam ipsa porro, tenetur, eum enim aperiam illo inventore numquam. Error, dolorem atque?
	</div>
	</div>
	<div style="height:300px;background:tomato"></div>
	<div style="height:300px;background:powderblue"></div>
<script>
	
window.addEventListener('scroll', function(){
	//window.scrollY();
	//window.scrollTo(0, 100); // 강제로 100
	//window.scrollBy(0, 100) // 현재위치에서 100

	var th = window.scrollY;
	if(th > 150){
		document.querySelector('.navbar-brand').classList.add('small');
	} else {
		document.querySelector('.navbar-brand').classList.remove('small');
	}


	
	var thm = document.querySelector('html').scrollTop; 
	var thmbox = document.querySelector('html').clientHeight; 
	var thmsr = document.querySelector('html').scrollHeight; 
	var thmwidth = thm / (thmsr - thmbox) * 100 + '%';
	document.querySelector('.redbox').style.width = thmwidth;
  console.log(thm, thmbox, thmsr, thmwidth);
})



document.querySelector('.lorem').addEventListener('scroll', function(){
	// th2 window 아닐때 scrollTop
	// th2box 실제 박스 높이
	// th2sr실제 스크롤 높이
	var th2 = document.querySelector('.lorem').scrollTop; 
	var th2box = document.querySelector('.lorem').clientHeight; 
	var th2sr = document.querySelector('.lorem').scrollHeight; 

	if(th2 + th2box + 10 >= th2sr){
		alert('ok');
	}
	console.log(th2,th2box, th2sr);
})








//로드 된 뒤에 실행, 1초에 60번 움직이므로 
// document.querySelector('html').scrollHeight; 페이지 높이
// document.documentElement.scrollHeight; 페이지 높이
// document.querySelector('html').scrolltop; 스크롤한 높이
// window.scrollY; 스크롤한 높이
// $(window).on('scroll', function(){
// 	$(window).scrollTop; //스크롤한 높이 
// 	$(window).scrollTop(100); //100으로 이동 
// })
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
</body>
</html>